{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Daniil/FicusTest/my-app/src/components/post-list-item/post-list-item.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react'; //import { like } from '../../actions';\n\nimport { useSelector } from 'react-redux';\nimport WithServer from '../hoc';\nimport './post-list-item.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet pizza = \"https://static.1000.menu/img/content/21458/-salat-cezar-s-kr-salat-cezar-s-krevetkami-s-maionezom_1501173720_1_max.jpg\";\nlet prof = \"https://widgetwhats.com/app/uploads/2019/11/free-profile-photo-whatsapp-4.png\";\n\nconst PostListItem = ({\n  Server\n}) => {\n  _s();\n\n  const allPosts = useSelector(state => state.allPosts); //let user = JSON.parse(localStorage.getItem('user'));\n  //const getUsers = () => {\n  //    Server.getAllUsers()\n  //        .then(res => console.log(res.data))\n  //}\n\n  const [item, setItem] = useState([]);\n  useEffect(() => {\n    Server.getAllPosts().then(res => {\n      setItem(res.data);\n    }).catch(er => console.log(er));\n  }, [Server]);\n  const getPosts = useCallback(() => {\n    item.forEach(itm => {\n      Server.getPost(itm._id).then(res => allPosts.push(res.data));\n    });\n\n    if (allPosts !== []) {\n      return;\n    }\n  }, [Server, allPosts, item]);\n  useEffect(() => {\n    getPosts();\n  }, [allPosts, getPosts]);\n  let idx = 0;\n  const itempos = allPosts.map(postItem => {\n    let date = postItem.dateCreated;\n    let newDate = date.replace(/[T-Z]/g, ' ');\n    newDate = newDate.replace(/\\..*/, '');\n    idx++;\n    console.log();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-list-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: prof,\n            className: \"photo\",\n            alt: \"prof\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" Daniil Gizatulin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title\",\n            children: postItem.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: pizza,\n            alt: \"img\",\n            className: \"post-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"full-text\",\n            children: postItem.fullText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-post\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"date\",\n              children: newDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"interaction\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"like\",\n                onClick: e => e.target.classList.toggle(\"liked\"),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-heart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 110\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-trash-o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, idx, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  });\n  return (\n    /*#__PURE__*/\n    //<div className=\"post-list\">\n    //    <div className=\"post\">\n    //        <div className=\"post-list-item\">\n    //            <div className=\"name\">\n    //                <img src={prof} className=\"photo\" alt=\"prof\" onClick={() => console.log(allPosts)} />\n    //                <p> Daniil Gizatulin</p>\n    //                {/*<p> {user.name}</p>*/}\n    //            </div>\n    //            <div className=\"cards\">\n    //                <p className=\"title\">Lorem ipsum ipsum ipsum</p>\n    //                <img src={pizza} alt=\"img\" className=\"post-image\" />\n    //                <ul className=\"full-text\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusantium odio modilabore repudiandaenatus debitis officiis nesciunt odit molestias illum cum, est expedita nihil quisquam aut at, ipsum excepturi maxime.Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloremque error ad exercitationem, sitsint nulla,ratione possimus doloribus eligendi fugiat nisi animi, qui quia sunt sed deserunt facere.Temporibus, ut?  </ul>\n    //                <div className=\"info-post\">\n    //                    <span className=\"date\">20.04.2021 12:05 PM</span>\n    //                    <div className=\"interaction\">\n    //                        <button className='like' onClick={(e) => e.target.classList.toggle(\"liked\")}><i className=\"fa fa-heart\"></i></button>\n    //                        <button className='delete' onClick={getPosts}><i className=\"fa fa-trash-o\"></i></button>\n    //                    </div>\n    //                </div>\n    //            </div>\n    //        </div>\n    //    </div>\n    //</div>\n    _jsxDEV(\"div\", {\n      className: \"post-list\",\n      children: itempos\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)\n  );\n};\n\n_s(PostListItem, \"im4iOUuW7V6hBYYZocbhGS7dlt8=\", false, function () {\n  return [useSelector];\n});\n\n_c = PostListItem;\nexport default WithServer()(PostListItem);\n\nvar _c;\n\n$RefreshReg$(_c, \"PostListItem\");","map":{"version":3,"sources":["/home/ubuntu/Рабочий стол/Daniil/FicusTest/my-app/src/components/post-list-item/post-list-item.js"],"names":["React","useCallback","useEffect","useState","useSelector","WithServer","pizza","prof","PostListItem","Server","allPosts","state","item","setItem","getAllPosts","then","res","data","catch","er","console","log","getPosts","forEach","itm","getPost","_id","push","idx","itempos","map","postItem","date","dateCreated","newDate","replace","title","fullText","e","target","classList","toggle"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\n//import { like } from '../../actions';\nimport { useSelector } from 'react-redux';\nimport WithServer from '../hoc';\nimport './post-list-item.css';\n\nlet pizza = \"https://static.1000.menu/img/content/21458/-salat-cezar-s-kr-salat-cezar-s-krevetkami-s-maionezom_1501173720_1_max.jpg\";\nlet prof = \"https://widgetwhats.com/app/uploads/2019/11/free-profile-photo-whatsapp-4.png\";\n\n\nconst PostListItem = ({ Server }) => {\n\n    const allPosts = useSelector(state => state.allPosts)\n\n\n    //let user = JSON.parse(localStorage.getItem('user'));\n\n    //const getUsers = () => {\n    //    Server.getAllUsers()\n    //        .then(res => console.log(res.data))\n    //}\n    const [item, setItem] = useState([]);\n\n    useEffect(() => {\n        Server.getAllPosts()\n            .then(res => {\n                setItem(res.data)\n            })\n            .catch(er => console.log(er))\n\n    }, [Server])\n\n    const getPosts = useCallback(\n        () => {\n            item.forEach(itm => {\n                Server.getPost(itm._id)\n                    .then(res => allPosts.push(res.data))\n            })\n            if (allPosts !== []) {\n                return\n            }\n        }, [Server, allPosts, item])\n\n    useEffect(() => {\n        getPosts();\n    }, [allPosts, getPosts])\n\n    let idx = 0;\n\n    const itempos = allPosts.map(postItem => {\n\n        let date = postItem.dateCreated\n        let newDate = date.replace(/[T-Z]/g, ' ')\n        newDate = newDate.replace(/\\..*/, '')\n        idx++\n        console.log()\n        return (\n            <div className=\"post\" key={idx}>\n                <div className=\"post-list-item\">\n                    <div className=\"name\">\n                        <img src={prof} className=\"photo\" alt=\"prof\" />\n                        <p> Daniil Gizatulin</p>\n                        {/*<p> {user.name}</p>*/}\n                    </div>\n                    <div className=\"cards\">\n                        <p className=\"title\">{postItem.title}</p>\n                        <img src={pizza} alt=\"img\" className=\"post-image\" />\n                        <ul className=\"full-text\">{postItem.fullText}</ul>\n                        <div className=\"info-post\">\n                            <span className=\"date\">{newDate}</span>\n                            <div className=\"interaction\">\n                                <button className='like' onClick={(e) => e.target.classList.toggle(\"liked\")}><i className=\"fa fa-heart\"></i></button>\n                                <button className='delete' ><i className=\"fa fa-trash-o\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        )\n    })\n\n\n    return (\n        //<div className=\"post-list\">\n        //    <div className=\"post\">\n        //        <div className=\"post-list-item\">\n        //            <div className=\"name\">\n        //                <img src={prof} className=\"photo\" alt=\"prof\" onClick={() => console.log(allPosts)} />\n        //                <p> Daniil Gizatulin</p>\n        //                {/*<p> {user.name}</p>*/}\n        //            </div>\n        //            <div className=\"cards\">\n        //                <p className=\"title\">Lorem ipsum ipsum ipsum</p>\n        //                <img src={pizza} alt=\"img\" className=\"post-image\" />\n        //                <ul className=\"full-text\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusantium odio modilabore repudiandaenatus debitis officiis nesciunt odit molestias illum cum, est expedita nihil quisquam aut at, ipsum excepturi maxime.Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloremque error ad exercitationem, sitsint nulla,ratione possimus doloribus eligendi fugiat nisi animi, qui quia sunt sed deserunt facere.Temporibus, ut?  </ul>\n        //                <div className=\"info-post\">\n        //                    <span className=\"date\">20.04.2021 12:05 PM</span>\n        //                    <div className=\"interaction\">\n        //                        <button className='like' onClick={(e) => e.target.classList.toggle(\"liked\")}><i className=\"fa fa-heart\"></i></button>\n        //                        <button className='delete' onClick={getPosts}><i className=\"fa fa-trash-o\"></i></button>\n        //                    </div>\n        //                </div>\n        //            </div>\n        //        </div>\n        //    </div>\n        //</div>\n\n\n        <div className=\"post-list\">\n            {itempos}\n        </div>\n\n    )\n}\n\n\nexport default WithServer()(PostListItem);\n\n"]},"metadata":{},"sourceType":"module"}