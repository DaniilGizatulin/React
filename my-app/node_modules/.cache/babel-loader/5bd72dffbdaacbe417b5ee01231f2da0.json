{"ast":null,"code":"import axios from 'axios';\nexport default class Server {\n  async loginUser(data) {\n    let _token;\n\n    try {\n      const _response = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/auth\", data);\n\n      console.log('👉 Returned data:', _response);\n      _token = _response.data.token;\n      return _response;\n    } catch (e) {\n      console.log(`😱 Axios request failed: ${e}`);\n    }\n\n    axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/auth/user', {\n      headers: {\n        \"Authorization\": `Bearer ${_token}`\n      }\n    }).then(res => {\n      console.log(_token);\n      console.log(res.data);\n      localStorage.setItem(`${res.data._id}`, _token);\n    });\n  }\n\n  async createNewUser(data) {\n    try {\n      const _response = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/users\", data); //console.log('👉 Returned data:', _response);\n\n\n      return _response;\n    } catch (e) {//console.log(`😱 Axios request failed: ${e}`);\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/ubuntu/Рабочий стол/Daniil/FicusTest/my-app/src/services/server.js"],"names":["axios","Server","loginUser","data","_token","_response","post","console","log","token","e","get","headers","then","res","localStorage","setItem","_id","createNewUser"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,MAAN,CAAa;AAGT,QAATC,SAAS,CAACC,IAAD,EAAO;AAClB,QAAIC,MAAJ;;AACA,QAAI;AACA,YAAMC,SAAS,GAAG,MAAML,KAAK,CAACM,IAAN,CAAW,wDAAX,EAAqEH,IAArE,CAAxB;;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCH,SAAjC;AACAD,MAAAA,MAAM,GAAGC,SAAS,CAACF,IAAV,CAAeM,KAAxB;AACA,aAAOJ,SAAP;AACH,KALD,CAKE,OAAOK,CAAP,EAAU;AACRH,MAAAA,OAAO,CAACC,GAAR,CAAa,4BAA2BE,CAAE,EAA1C;AACH;;AACDV,IAAAA,KAAK,CAACW,GAAN,CAAU,6DAAV,EAAyE;AAAEC,MAAAA,OAAO,EAAE;AAAE,yBAAkB,UAASR,MAAO;AAApC;AAAX,KAAzE,EACKS,IADL,CACUC,GAAG,IAAI;AACTP,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACX,IAAhB;AACAY,MAAAA,YAAY,CAACC,OAAb,CAAsB,GAAEF,GAAG,CAACX,IAAJ,CAASc,GAAI,EAArC,EAAwCb,MAAxC;AACH,KALL;AAMH;;AAEkB,QAAbc,aAAa,CAACf,IAAD,EAAO;AACtB,QAAI;AACA,YAAME,SAAS,GAAG,MAAML,KAAK,CAACM,IAAN,CAAW,yDAAX,EAAsEH,IAAtE,CAAxB,CADA,CAEA;;;AACA,aAAOE,SAAP;AACH,KAJD,CAIE,OAAOK,CAAP,EAAU,CACR;AACH;AACJ;;AA7BuB","sourcesContent":["import axios from 'axios';\n\nexport default class Server {\n\n\n    async loginUser(data) {\n        let _token;\n        try {\n            const _response = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/auth\", data);\n            console.log('👉 Returned data:', _response);\n            _token = _response.data.token;\n            return _response\n        } catch (e) {\n            console.log(`😱 Axios request failed: ${e}`);\n        }\n        axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/auth/user', { headers: { \"Authorization\": `Bearer ${_token}` } })\n            .then(res => {\n                console.log(_token)\n                console.log(res.data)\n                localStorage.setItem(`${res.data._id}`, _token)\n            })\n    }\n\n    async createNewUser(data) {\n        try {\n            const _response = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/users\", data);\n            //console.log('👉 Returned data:', _response);\n            return _response\n        } catch (e) {\n            //console.log(`😱 Axios request failed: ${e}`);\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}