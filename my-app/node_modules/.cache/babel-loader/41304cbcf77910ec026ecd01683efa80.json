{"ast":null,"code":"import axios from 'axios';\nimport { fault, addUser } from '../actions';\nexport default class Server {\n  async loginUser(email, password) {\n    try {\n      const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/auth\", {\n        email,\n        password\n      });\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  } //async loginUser(email, password, nav, dispatch) {\n  //    await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/auth\", {\n  //        email,\n  //        password,\n  //    })\n  //        .then(res => {\n  //            nav(`/list/page${1}/?limit=10&skip=${0}`)\n  //            localStorage.setItem('token', res.data.token)\n  //            if (localStorage.getItem('token')) {\n  //                Server.authorizationUser(localStorage.getItem('token'))\n  //                    .then(res => {\n  //                        dispatch(addUser(res.data))\n  //                        let saveUser = JSON.stringify(res.data)\n  //                        localStorage.setItem('user', saveUser)\n  //                    })\n  //            }\n  //        })\n  //        .catch(e => {\n  //            nav('/login')\n  //            dispatch(fault())\n  //        })\n  //}\n\n\n  async authorizationUser(token) {\n    try {\n      const _res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/auth/user', {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n\n      return _res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async createNewUser(email, password, name, history, dispatch) {\n    try {\n      await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/users\", {\n        email,\n        password,\n        name\n      }).then(res => setTimeout(() => history.push('/login'), 500)).catch(e => dispatch(fault()));\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async getAllUsers() {\n    try {\n      const res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/users');\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async getAllPosts(skip = 0, limit = 10) {\n    try {\n      const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts?limit=${limit}&skip=${skip}`);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async getPost(id) {\n    try {\n      const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async getUser(id) {\n    try {\n      const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`);\n      return res;\n    } catch (e) {\n      return e.response;\n    }\n  }\n\n  async setLikePost(id, token) {\n    try {\n      const res = await axios({\n        method: 'PUT',\n        url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/like/${id}`,\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async getImage(ref, image, defaultImage, alt) {\n    await axios.get(`https://nodejs-test-api-blog.herokuapp.com${image}`).then(res => {\n      if (res.statusText === 'OK') {\n        ref.current.src = `https://nodejs-test-api-blog.herokuapp.com${image}`;\n      }\n    }).catch(e => {\n      if (e.status >= 400) {\n        ref.current.src = defaultImage;\n        ref.current.alt = alt;\n      }\n    });\n  }\n\n  async deletePost(id, token) {\n    try {\n      const res = await axios.delete(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async deleteUser(id, token) {\n    try {\n      const res = await axios.delete(`https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async createNewPost(title, fullText, description, token) {\n    try {\n      const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/posts\", {\n        title,\n        fullText,\n        description\n      }, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      return res;\n    } catch (e) {\n      //console.log(e.response);\n      const error = e.response;\n      return error;\n    }\n  }\n\n  async updateUserName(id, token, name) {\n    try {\n      const res = await axios({\n        method: 'PATCH',\n        url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`,\n        data: {\n          name\n        },\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async updateUserAvatar(id, token, avatar) {\n    try {\n      const res = await axios.put(`https://nodejs-test-api-blog.herokuapp.com/api/v1/users/upload/${id}`, avatar, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n          \"Content-Type\": ' multipart/form-data'\n        }\n      });\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async updatePost(id, token, title, description, fullText) {\n    try {\n      const res = await axios({\n        method: 'PATCH',\n        url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`,\n        data: {\n          title,\n          description,\n          fullText\n        },\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async updatePostImage(id, token, image) {\n    try {\n      const res = await axios.put(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/upload/${id}`, image, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n          \"Content-Type\": ' multipart/form-data'\n        }\n      });\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/ubuntu/Рабочий стол/Daniil/FicusTest/my-app/src/services/server.js"],"names":["axios","fault","addUser","Server","loginUser","email","password","res","post","e","console","log","response","authorizationUser","token","_res","get","headers","createNewUser","name","history","dispatch","then","setTimeout","push","catch","getAllUsers","getAllPosts","skip","limit","getPost","id","getUser","setLikePost","method","url","getImage","ref","image","defaultImage","alt","statusText","current","src","status","deletePost","delete","deleteUser","createNewPost","title","fullText","description","error","updateUserName","data","updateUserAvatar","avatar","put","updatePost","updatePostImage"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { fault, addUser } from '../actions';\n\nexport default class Server {\n\n    async loginUser(email, password) {\n        try {\n            const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/auth\", {\n                email,\n                password,\n            });\n            return res\n        } catch (e) {\n            console.log(e.response);\n        }\n\n    }\n\n    //async loginUser(email, password, nav, dispatch) {\n    //    await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/auth\", {\n    //        email,\n    //        password,\n    //    })\n    //        .then(res => {\n    //            nav(`/list/page${1}/?limit=10&skip=${0}`)\n    //            localStorage.setItem('token', res.data.token)\n    //            if (localStorage.getItem('token')) {\n    //                Server.authorizationUser(localStorage.getItem('token'))\n    //                    .then(res => {\n    //                        dispatch(addUser(res.data))\n    //                        let saveUser = JSON.stringify(res.data)\n    //                        localStorage.setItem('user', saveUser)\n    //                    })\n    //            }\n    //        })\n    //        .catch(e => {\n    //            nav('/login')\n    //            dispatch(fault())\n    //        })\n\n    //}\n\n    async authorizationUser(token) {\n        try {\n            const _res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/auth/user', { headers: { \"Authorization\": `Bearer ${token}` } })\n            return _res\n        } catch (e) {\n            console.log(e.response);\n        }\n    }\n\n    async createNewUser(email, password, name, history, dispatch) {\n        try {\n            await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/users\", {\n                email,\n                password,\n                name\n            })\n                .then(res => setTimeout(() => history.push('/login'), 500))\n                .catch(e => dispatch(fault()))\n        } catch (e) {\n            console.log(e.response);\n        }\n    }\n\n    async getAllUsers() {\n        try {\n            const res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/users')\n            return res\n        } catch (e) {\n            console.log(e.response);\n        }\n    }\n\n    async getAllPosts(skip = 0, limit = 10) {\n        try {\n            const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts?limit=${limit}&skip=${skip}`)\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n    async getPost(id) {\n        try {\n            const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`)\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n\n    async getUser(id) {\n        try {\n            const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`)\n            return res\n        } catch (e) {\n            return e.response\n        }\n    }\n\n    async setLikePost(id, token) {\n        try {\n            const res = await axios({\n                method: 'PUT',\n                url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/like/${id}`,\n                headers: {\n                    \"Authorization\": `Bearer ${token}`\n                }\n            })\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n    async getImage(ref, image, defaultImage, alt) {\n        await axios.get(`https://nodejs-test-api-blog.herokuapp.com${image}`)\n            .then(res => {\n                if (res.statusText === 'OK') {\n                    ref.current.src = `https://nodejs-test-api-blog.herokuapp.com${image}`\n                }\n            })\n            .catch(e => {\n                if (e.status >= 400) {\n                    ref.current.src = defaultImage;\n                    ref.current.alt = alt;\n                }\n            })\n    }\n\n    async deletePost(id, token) {\n        try {\n            const res = await axios.delete(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`, { headers: { \"Authorization\": `Bearer ${token}` } });\n            console.log(res)\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n\n    async deleteUser(id, token) {\n        try {\n            const res = await axios.delete(`https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`, { headers: { \"Authorization\": `Bearer ${token}` } });\n            console.log(res)\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n    async createNewPost(title, fullText, description, token) {\n        try {\n            const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/posts\",\n                {\n                    title,\n                    fullText,\n                    description,\n                },\n                {\n                    headers:\n                        { \"Authorization\": `Bearer ${token}` }\n                });\n            return res\n        } catch (e) {\n            //console.log(e.response);\n            const error = e.response\n            return error\n        }\n    }\n\n\n    async updateUserName(id, token, name) {\n        try {\n            const res = await axios({\n                method: 'PATCH',\n                url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`,\n                data:\n                {\n                    name,\n                },\n\n                headers:\n                    { \"Authorization\": `Bearer ${token}` }\n\n            });\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n    async updateUserAvatar(id, token, avatar) {\n        try {\n            const res = await axios.put(`https://nodejs-test-api-blog.herokuapp.com/api/v1/users/upload/${id}`, avatar, {\n                headers: {\n                    \"Authorization\": `Bearer ${token}`,\n                    \"Content-Type\": ' multipart/form-data'\n                }\n            }\n            )\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n    async updatePost(id, token, title, description, fullText) {\n        try {\n            const res = await axios({\n                method: 'PATCH',\n                url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`,\n                data:\n                {\n                    title,\n                    description,\n                    fullText,\n                },\n\n                headers:\n                    { \"Authorization\": `Bearer ${token}` }\n\n            })\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n    async updatePostImage(id, token, image) {\n        try {\n            const res = await axios.put(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/upload/${id}`, image, {\n                headers: {\n                    \"Authorization\": `Bearer ${token}`,\n                    \"Content-Type\": ' multipart/form-data'\n                }\n            }\n            )\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}