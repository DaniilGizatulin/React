{"ast":null,"code":"import axios from 'axios';\nexport default class Server {\n  async loginUser(email, password) {\n    try {\n      const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/auth\", {\n        email,\n        password\n      });\n      console.log('üëâ Returned data:', res);\n      return res;\n    } catch (e) {\n      console.log(`üò± Axios request failed: ${e}`);\n    }\n  }\n\n  async authorizationUser(token) {\n    try {\n      const _res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/auth/user', {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n\n      return _res;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async createNewUser(email, password, name) {\n    try {\n      const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/users\", {\n        email,\n        password,\n        name\n      });\n      console.log('üëâ Returned data:', res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n      console.log(`üò± Axios request failed: ${e}`);\n    }\n  }\n\n  async getAllUsers() {\n    try {\n      const res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/users');\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n      console.log(`üò± Axios request failed: ${e}`);\n    }\n  }\n\n  async getAllPosts() {\n    try {\n      const res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/posts?limit=20');\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n      console.log(`üò± Axios request failed: ${e}`);\n    }\n  }\n\n  async getPost(id) {\n    try {\n      const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`);\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n      console.log(`üò± Axios request failed: ${e}`);\n    }\n  }\n\n  async getUser(id) {\n    try {\n      const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`);\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n      console.log(`üò± Axios request failed: ${e}`);\n    }\n  }\n\n  async setLikePost(id, token) {\n    try {\n      const res = await axios({\n        method: 'PUT',\n        url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/like/${id}`,\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async getImage(ref, image, defaultImage, alt) {\n    await axios.get(`https://nodejs-test-api-blog.herokuapp.com${image}`).then(res => {\n      if (res.statusText === 'OK') {\n        ref.current.src = `https://nodejs-test-api-blog.herokuapp.com${image}`;\n      }\n    }).catch(e => {\n      ref.current.src = defaultImage;\n      ref.current.alt = alt;\n    });\n  }\n\n  async deletePost(id, token) {\n    try {\n      const res = await axios.delete(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      console.log(res);\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async createNewPost(title, fullText, description, token) {\n    try {\n      const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/posts\", {\n        title,\n        fullText,\n        description\n      }, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async updateUserName(id, token, name) {\n    try {\n      const res = await axios({\n        method: 'PATCH',\n        url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`,\n        data: {\n          name\n        },\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n  async updateUserAvatar(id, token, avatar) {\n    try {\n      const res = await axios({\n        method: 'PUT',\n        url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/users/upload/${id}`,\n        file: {\n          \"avatar\": avatar\n        },\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n          \"Content-Type\": ' multipart/form-data'\n        }\n      });\n      console.log(res);\n      return res;\n    } catch (e) {\n      console.log(e.response);\n    }\n  }\n\n}\nconsole.log(axios.put());","map":{"version":3,"sources":["/home/ubuntu/–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª/Daniil/FicusTest/my-app/src/services/server.js"],"names":["axios","Server","loginUser","email","password","res","post","console","log","e","authorizationUser","token","_res","get","headers","createNewUser","name","response","getAllUsers","getAllPosts","getPost","id","getUser","setLikePost","method","url","getImage","ref","image","defaultImage","alt","then","statusText","current","src","catch","deletePost","delete","createNewPost","title","fullText","description","updateUserName","data","updateUserAvatar","avatar","file","put"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nexport default class Server {\n\n    async loginUser(email, password) {\n        try {\n            const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/auth\", {\n                email,\n                password,\n            });\n            console.log('üëâ Returned data:', res);\n            return res\n        } catch (e) {\n            console.log(`üò± Axios request failed: ${e}`);\n        }\n\n    }\n\n    async authorizationUser(token) {\n        try {\n            const _res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/auth/user', { headers: { \"Authorization\": `Bearer ${token}` } })\n            return _res\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n    async createNewUser(email, password, name) {\n        try {\n            const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/users\", {\n                email,\n                password,\n                name\n            });\n            console.log('üëâ Returned data:', res);\n            return res\n        } catch (e) {\n            console.log(e.response);\n            console.log(`üò± Axios request failed: ${e}`);\n\n        }\n    }\n\n    async getAllUsers() {\n        try {\n            const res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/users')\n            console.log(res)\n            return res\n        } catch (e) {\n            console.log(e.response);\n            console.log(`üò± Axios request failed: ${e}`);\n        }\n    }\n\n    async getAllPosts() {\n        try {\n            const res = await axios.get('https://nodejs-test-api-blog.herokuapp.com/api/v1/posts?limit=20')\n            console.log(res)\n            return res\n        } catch (e) {\n            console.log(e.response)\n            console.log(`üò± Axios request failed: ${e}`);\n        }\n    }\n\n    async getPost(id) {\n        try {\n            const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`)\n            console.log(res)\n            return res\n        } catch (e) {\n            console.log(e.response)\n            console.log(`üò± Axios request failed: ${e}`);\n        }\n    }\n\n\n    async getUser(id) {\n        try {\n            const res = await axios.get(`https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`)\n            console.log(res)\n            return res\n        } catch (e) {\n            console.log(e.response)\n            console.log(`üò± Axios request failed: ${e}`);\n        }\n    }\n\n    async setLikePost(id, token) {\n        try {\n            const res = await axios({\n                method: 'PUT',\n                url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/like/${id}`,\n                headers: {\n                    \"Authorization\": `Bearer ${token}`\n                }\n            })\n            console.log(res)\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n    async getImage(ref, image, defaultImage, alt) {\n        await axios.get(`https://nodejs-test-api-blog.herokuapp.com${image}`)\n            .then(res => {\n                if (res.statusText === 'OK') {\n                    ref.current.src = `https://nodejs-test-api-blog.herokuapp.com${image}`\n                }\n            })\n            .catch(e => {\n                ref.current.src = defaultImage;\n                ref.current.alt = alt;\n            })\n    }\n\n    async deletePost(id, token) {\n        try {\n            const res = await axios.delete(`https://nodejs-test-api-blog.herokuapp.com/api/v1/posts/${id}`, { headers: { \"Authorization\": `Bearer ${token}` } });\n            console.log(res);\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n    async createNewPost(title, fullText, description, token) {\n        try {\n            const res = await axios.post(\"https://nodejs-test-api-blog.herokuapp.com/api/v1/posts\",\n                {\n                    title,\n                    fullText,\n                    description,\n                },\n                {\n                    headers:\n                        { \"Authorization\": `Bearer ${token}` }\n                });\n            console.log(res);\n            return res\n        } catch (e) {\n            console.log(e.response);\n        }\n    }\n\n\n    async updateUserName(id, token, name) {\n        try {\n            const res = await axios({\n                method: 'PATCH',\n                url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/users/${id}`,\n                data:\n                {\n                    name,\n                },\n\n                headers:\n                    { \"Authorization\": `Bearer ${token}` }\n\n            });\n            console.log(res)\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n    async updateUserAvatar(id, token, avatar) {\n        try {\n            const res = await axios({\n                method: 'PUT',\n                url: `https://nodejs-test-api-blog.herokuapp.com/api/v1/users/upload/${id}`,\n                file: { \"avatar\": avatar },\n                headers: {\n                    \"Authorization\": `Bearer ${token}`,\n                    \"Content-Type\": ' multipart/form-data'\n                }\n            })\n            console.log(res)\n            return res\n        } catch (e) {\n            console.log(e.response)\n        }\n    }\n\n}\n\nconsole.log(axios.put())\n\n"]},"metadata":{},"sourceType":"module"}